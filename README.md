# Nginx, Backends, Databases, Monitoring and Logging

Предусловия:
- установлен VirtualBox
- создана виртуальная сеть (10.0.0.1)
- скачен образ ubuntu-22.04.5-live-server-amd64.iso

## Сводная информация по виртуальным машинам
| Имя ПК            | IP Address | Назначение                     | Папка          | Порядок установки |Проброс портов |
|-------------------|------------|--------------------------------|----------------|-------------------|-|
| otus-mysql-master | 10.0.0.101 | База данных                    | 1.mysql-master | 1                 |2282 -> 22; 3307 -> 3306 |
| otus-mysql-slave  | 10.0.0.102 | База данных (реплика)          | 2.mysql-slave  | 2                 |2283 -> 22 |
| otus-back         | 10.0.0.103 | Бекенд (dotnet api)            | 3.back/1       | 3                 |2284 -> 22; 5101 -> 8080 |
| otus-back2        | 10.0.0.104 | Бекенд (dotnet api)            | 4.back/2       | 4                 |2285 -> 22; 5102 -> 8080 |
| otus-front        | 10.0.0.105 | Фронтенд (nginx балансировщик) | 5.front        | 5                 |2286 -> 22 |
| otus-monitoring   | 10.0.0.106 | Мониторинг                     | 6.monitoring   | 6                 |2287 -> 22 |
| otus-logging      | 10.0.0.107 | Логирование                    | 7.logging      | 7                 |2288 -> 22 |

## MySQL master

Предусловия:
- установлена Ubuntu с пользователем ad с паролем ad и включенным ssh
- настроен второй сетевой адаптер с типом Виртуальный адаптер
- настроен проброс портов
- запущен скрипт 0.mysql-master.sh (меняет имя машины, устанавливает MySQL, настраивает сетевой интерфейс и перезагружает)

Запустить скрипт 1.mysql-master.sh.

## MySQL slave

## Backend

Предусловия:
- установлена Ubuntu с пользователем ad с паролем ad и включенным ssh
- настроен второй сетевой адаптер с типом Виртуальный адаптер
- настроен проброс портов
- запущен скрипт 0.back.sh (меняет имя машины, устанавливает dotnet и prometheus-node-exporter, настраивает сетевой интерфейс и перезагружает) из соответствующих папок для соответствующих виртуальных машин (1 и 2)

Запустить скрипт 1.back.sh для каждой виртуальной машины backend.


